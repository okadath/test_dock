/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/videojs-hls-quality-selector@1.1.1/dist/videojs-hls-quality-selector.cjs.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var videojs=_interopDefault(require("video.js")),version="1.1.1",_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},asyncGenerator=function(){function t(t){this.value=t}function e(e){var n,o;function i(n,o){try{var l=e[n](o),s=l.value;s instanceof t?Promise.resolve(s.value).then(function(t){i("next",t)},function(t){i("throw",t)}):r(l.done?"return":"normal",l.value)}catch(t){r("throw",t)}}function r(t,e){switch(t){case"return":n.resolve({value:e,done:!0});break;case"throw":n.reject(e);break;default:n.resolve({value:e,done:!1})}(n=n.next)?i(n.key,n.arg):o=null}this._invoke=function(t,e){return new Promise(function(r,l){var s={key:t,arg:e,resolve:r,reject:l,next:null};o?o=o.next=s:(n=o=s,i(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)},{wrap:function(t){return function(){return new e(t.apply(this,arguments))}},await:function(e){return new t(e)}}}(),classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},VideoJsButtonClass=videojs.getComponent("MenuButton"),VideoJsMenuClass=videojs.getComponent("Menu"),VideoJsComponent=videojs.getComponent("Component"),Dom=videojs.dom;function toTitleCase(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}var ConcreteButton=function(t){function e(n){return classCallCheck(this,e),possibleConstructorReturn(this,t.call(this,n,{title:n.localize("Quality")}))}return inherits(e,t),e.prototype.createItems=function(){return[]},e.prototype.createMenu=function(){var t=new VideoJsMenuClass(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=Dom.createEl("li",{className:"vjs-menu-title",innerHTML:toTitleCase(this.options_.title),tabIndex:-1}),n=new VideoJsComponent(this.player_,{el:e});this.hideThreshold_+=1,t.addItem(n)}if(this.items=this.createItems(),this.items)for(var o=0;o<this.items.length;o++)t.addItem(this.items[o]);return t},e}(VideoJsButtonClass),VideoJsMenuItemClass=videojs.getComponent("MenuItem"),ConcreteMenuItem=function(t){function e(n,o,i,r){classCallCheck(this,e);var l=possibleConstructorReturn(this,t.call(this,n,{label:o.label,selectable:!0,selected:o.selected||!1}));return l.item=o,l.qualityButton=i,l.plugin=r,l}return inherits(e,t),e.prototype.handleClick=function(){for(var t=0;t<this.qualityButton.items.length;++t)this.qualityButton.items[t].selected(!1);this.plugin.setQuality(this.item.value),this.selected(!0)},e}(VideoJsMenuItemClass),defaults={},registerPlugin=videojs.registerPlugin||videojs.plugin,HlsQualitySelectorPlugin=function(){function t(e,n){classCallCheck(this,t),this.player=e,this.config=n,this.player.qualityLevels&&this.getHls()&&(this.createQualityButton(),this.bindPlayerEvents())}return t.prototype.getHls=function(){return this.player.tech({IWillNotUseThisInPlugins:!0}).hls},t.prototype.bindPlayerEvents=function(){this.player.qualityLevels().on("addqualitylevel",this.onAddQualityLevel.bind(this))},t.prototype.createQualityButton=function(){var t=this.player;this._qualityButton=new ConcreteButton(t);var e=t.controlBar.children().length-2,n=t.controlBar.addChild(this._qualityButton,{componentClass:"qualitySelector"},this.config.placementIndex||e);if(n.addClass("vjs-quality-selector"),this.config.displayCurrentQuality)this.setButtonInnerText("auto");else{var o=" "+(this.config.vjsIconClass||"vjs-icon-hd");n.menuButton_.$(".vjs-icon-placeholder").className+=o}n.removeClass("vjs-hidden")},t.prototype.setButtonInnerText=function(t){this._qualityButton.menuButton_.$(".vjs-icon-placeholder").innerHTML=t},t.prototype.getQualityMenuItem=function(t){var e=this.player;return new ConcreteMenuItem(e,t,this._qualityButton,this)},t.prototype.onAddQualityLevel=function(){for(var t=this,e=this.player,n=e.qualityLevels().levels_||[],o=[],i=function(e){if(!o.filter(function(t){return t.item&&t.item.value===n[e].height}).length){var i=t.getQualityMenuItem.call(t,{label:n[e].height+"p",value:n[e].height});o.push(i)}},r=0;r<n.length;++r)i(r);o.sort(function(t,e){return"object"!==(void 0===t?"undefined":_typeof(t))||"object"!==(void 0===e?"undefined":_typeof(e))?-1:t.item.value<e.item.value?-1:t.item.value>e.item.value?1:0}),o.push(this.getQualityMenuItem.call(this,{label:e.localize("Auto"),value:"auto",selected:!0})),this._qualityButton&&(this._qualityButton.createItems=function(){return o},this._qualityButton.update())},t.prototype.setQuality=function(t){var e=this.player.qualityLevels();this.config.displayCurrentQuality&&this.setButtonInnerText("auto"===t?t:t+"p");for(var n=0;n<e.length;++n){var o=e[n];o.enabled=o.height===t||"auto"===t}this._qualityButton.unpressButton()},t}(),onPlayerReady=function(t,e){t.addClass("vjs-hls-quality-selector"),t.hlsQualitySelector=new HlsQualitySelectorPlugin(t,e)},hlsQualitySelector=function(t){var e=this;this.ready(function(){onPlayerReady(e,videojs.mergeOptions(defaults,t))})};registerPlugin("hlsQualitySelector",hlsQualitySelector),hlsQualitySelector.VERSION=version,module.exports=hlsQualitySelector;
//# sourceMappingURL=/sm/9f878ec57694040501c37ed39ede6ae177fdaf80006e5b028849fcf80736989b.map